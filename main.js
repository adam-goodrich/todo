(()=>{"use strict";var e=6e4;function t(t){return t.getTime()%e}function n(n){var c=new Date(n.getTime()),l=Math.ceil(c.getTimezoneOffset());c.setSeconds(0,0);var o=l>0?(e+t(c))%e:t(c);return l*e+o}function c(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function l(e){c(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function o(e){c(1,arguments);var t=l(e);return t.setHours(0,0,0,0),t}var i=864e5;function d(e){for(;e.firstChild;)e.removeChild(e.firstChild)}const a=(e="Title",t="Notes...",n=3,c=!1,l="",o=[])=>{let i=o;return{projectName:e,projectNotes:t,projectPriority:n,checklistItemList:i,addToChecklist:(e,t,n,c)=>{const l=((e,t,n,c=!1)=>({checklistItemName:e,checklistItemNotes:t,checklistItemPriority:n,checklistItemIsCompleted:c}))(e,t,n,c);i.push(l)},completed:c,dueDate:l}};let r,s="",p=[],m=[];for(let e=0;e<localStorage.length;e++)m.push(JSON.parse(window.localStorage.getItem(`item${e}`)));function u(){const e=document.createElement("div");e.classList.add("modalWindow"),I.appendChild(e);const t=document.createElement("div");t.classList.add("projectForm"),e.appendChild(t);const n=document.createElement("label");n.classList.add("projectNameInputTitle"),n.innerHTML="Project Name",n.htmlFor="projectName",t.appendChild(n);const c=document.createElement("input");c.classList.add("projectNameInput"),c.type="text",c.id="projectName",c.name="projectName",t.appendChild(c);let l=document.createElement("br");t.appendChild(l);let o=document.createElement("br");t.appendChild(o);const i=document.createElement("label");i.classList.add("projectPriorityInputTitle"),i.innerHTML="Project Priority",t.appendChild(i);const r=document.createElement("select");r.classList.add("projectPriorityInput"),r.id="projectPriorityInput",t.appendChild(r);let s=document.createElement("br");t.appendChild(s);let m=document.createElement("br");t.appendChild(m);const h=document.createElement("option");h.value=1,h.innerHTML="High",r.append(h);const E=document.createElement("option");E.value=2,E.innerHTML="Medium",r.append(E);const j=document.createElement("option");j.value=3,j.innerHTML="Low",r.append(j);const C=document.createElement("label");C.classList.add("projectNotesInputTitle"),C.innerHTML="Project Description ",C.htmlFor="projectNotes",t.appendChild(C);const y=document.createElement("input");y.classList.add("projectNotesInput"),y.type="text",y.id="projectNotes",y.name="projectNotes",t.appendChild(y);let k=document.createElement("br");t.appendChild(k);let T=document.createElement("br");t.appendChild(T);const v=document.createElement("label");v.classList.add("projectDateTitle"),v.innerHTML="Due Date",v.htmlFor="projectNotes",t.appendChild(v);const N=document.createElement("input");N.classList.add("projectNotesInput"),N.type="date",N.id="projectDate",N.name="projectDate",t.appendChild(N);let g=document.createElement("br");t.appendChild(g);let P=document.createElement("br");t.appendChild(P);const f=document.createElement("button");if(f.innerHTML="Save",f.classList.add("saveButton"),t.appendChild(f),f.addEventListener("click",(()=>{let e=document.getElementById("projectName").value;if(""==e)alert("Please Enter Project Name"),d(I),u();else{let t=document.getElementById("projectPriorityInput").value,n=document.getElementById("projectNotes").value;if(""==n)alert("Please Enter A Project Description");else{let c=document.getElementById("projectDate").value,l=a(e,n,t,!1,c);p.push(l),d(I),L()}}})),0==p.length);else{const e=document.createElement("button");e.innerHTML="Cancel",e.classList.add("cancelButton"),t.appendChild(e),e.addEventListener("click",(()=>{d(I),L()}))}}function h(e){const t=document.createElement("div");t.classList.add("modalWindow"),I.appendChild(t);const n=document.createElement("div");n.classList.add("projectForm"),t.appendChild(n);const c=document.createElement("label");c.classList.add("projectNameInputTitle"),c.innerHTML="Project Name",c.htmlFor="projectName",n.appendChild(c);const l=document.createElement("input");l.classList.add("projectNameInput"),l.type="text",l.id="projectName",l.value=p[e].projectName,l.required=!0,console.log(p[e].projectName),n.appendChild(l);let o=document.createElement("br");n.appendChild(o);let i=document.createElement("br");n.appendChild(i);const r=document.createElement("label");r.classList.add("projectPriorityInputTitle"),r.innerHTML="Project Priority",n.appendChild(r);const s=document.createElement("select");s.classList.add("projectPriorityInput"),s.id="projectPriorityInput",n.appendChild(s);let m=document.createElement("br");n.appendChild(m);let u=document.createElement("br");if(n.appendChild(u),1==p[e].projectPriority){const e=document.createElement("option");e.value=1,e.innerHTML="High",s.append(e);const t=document.createElement("option");t.value=2,t.innerHTML="Medium",s.append(t);const n=document.createElement("option");n.value=3,n.innerHTML="Low",s.append(n)}else if(2==p[e].projectPriority){const e=document.createElement("option");e.value=2,e.innerHTML="Medium",s.append(e);const t=document.createElement("option");t.value=1,t.innerHTML="High",s.append(t);const n=document.createElement("option");n.value=3,n.innerHTML="Low",s.append(n)}else{const e=document.createElement("option");e.value=3,e.innerHTML="Low",s.append(e);const t=document.createElement("option");t.value=1,t.innerHTML="High",s.append(t);const n=document.createElement("option");n.value=2,n.innerHTML="Medium",s.append(n)}const h=document.createElement("label");h.classList.add("projectNotesInputTitle"),h.innerHTML="Project Description ",h.htmlFor="projectNotes",n.appendChild(h);const E=document.createElement("input");E.classList.add("projectNotesInput"),E.type="text",E.id="projectNotes",E.value=p[e].projectNotes,n.appendChild(E);let j=document.createElement("br");n.appendChild(j);let C=document.createElement("br");n.appendChild(C);const y=document.createElement("label");y.classList.add("projectDateTitle"),y.innerHTML="Due Date",y.htmlFor="projectNotes",n.appendChild(y);const k=document.createElement("input");k.classList.add("projectNotesInput"),k.type="date",k.id="projectDate",k.value=p[e].dueDate,n.appendChild(k);let T=document.createElement("br");n.appendChild(T);let v=document.createElement("br");n.appendChild(v);const N=document.createElement("button");if(N.innerHTML="Save",N.classList.add("saveButton"),n.appendChild(N),N.addEventListener("click",(()=>{let t=document.getElementById("projectName").value;if(""==t)alert("Please Enter Project Name");else{let n=document.getElementById("projectPriorityInput").value,c=document.getElementById("projectNotes").value;if(""==c)alert("Please Enter A Project Description");else{let l=document.getElementById("projectDate").value,o=a(t,c,n,!1,l);for(let t=0;t<p[e].checklistItemList.length;t++)o.checklistItemList.push(p[e].checklistItemList[t]);p.splice(e,1,o),d(I),L()}}})),0==p.length);else{const e=document.createElement("button");e.innerHTML="Cancel",e.classList.add("cancelButton"),n.appendChild(e),e.addEventListener("click",(()=>{d(I),L()}))}}function L(){function e(e){if(0==p[e].completed)if(""==p[e].dueDate)s="Incomplete";else{let t=function(e,t){c(2,arguments);var l=o(e),d=o(t),a=l.getTime()-n(l),r=d.getTime()-n(d);return Math.round((a-r)/i)}(new Date(p[e].dueDate),new Date);t+=1,s=1==t?"Due Tomorrow":0==t?"Due Today":t<0?"Past Due!":`Due in ${t} Days`}else s="COMPLETED!"}p.sort(((e,t)=>e.projectPriority>t.projectPriority?1:t.projectPriority>e.projectPriority?-1:0)),window.localStorage.clear();for(let n=0;n<p.length;n++){window.localStorage.setItem(`item${n}`,JSON.stringify(p[n]));let c=document.createElement("div");c.classList.add("project"),I.appendChild(c);let o=document.createElement("p");o.classList.add("projectTitle"),o.innerHTML=`${p[n].projectName}`,1==p[n].projectPriority?o.classList.add("projectTitleHigh"):2==p[n].projectPriority?o.classList.add("projectTitleMed"):3==p[n].projectPriority&&o.classList.add("projectTitleLow"),c.appendChild(o),e(n);let i=document.createElement("p");i.classList.add("projectPriority"),i.innerHTML=`${s}`,c.appendChild(i);let u=document.createElement("p");u.classList.add("projectNotes"),u.innerHTML=`${p[n].projectNotes}`;let j=document.createElement("div");function t(){p[n].checklistItemList.sort(((e,t)=>e.checklistItemIsCompleted>t.checklistItemIsCompleted?1:t.checklistItemIsCompleted>e.checklistItemIsCompleted?-1:0));let e=document.createElement("button");e.classList.add("addChecklistItemButton"),e.innerHTML="+",e.addEventListener("click",(()=>{let e=document.getElementById(`addChecklistItem${n}`).value;""==e||(p[n].addToChecklist(e,"",3,!1),d(I),L())})),j.appendChild(e);let c=document.createElement("input");c.classList.add("addChecklistItem"),c.type="text",c.id=`addChecklistItem${n}`,j.appendChild(c);let l=document.createElement("br");j.appendChild(l);for(let e=0;e<p[n].checklistItemList.length;e++){let c=document.createElement("div");c.classList.add("checklistItemContainer"),j.appendChild(c);let l=document.createElement("li");l.classList.add("checklistItemName"),l.id=`${p[n].checklistItemList[e].checklistItemName}`,l.innerHTML=`${p[n].checklistItemList[e].checklistItemName}  `,0==p[n].checklistItemList[e].checklistItemIsCompleted?l.classList.remove("checkListItemNameLine"):1==p[n].checklistItemList[e].checklistItemIsCompleted&&l.classList.add("checkListItemNameLine"),c.appendChild(l),l.addEventListener("click",(()=>{0==p[n].checklistItemList[e].checklistItemIsCompleted?(l.classList.add("checkListItemNameLine"),p[n].checklistItemList[e].checklistItemIsCompleted=!0,window.localStorage.clear(),window.localStorage.setItem(`item${n}`,JSON.stringify(p[n])),d(j),t()):1==p[n].checklistItemList[e].checklistItemIsCompleted&&(l.classList.remove("checkListItemNameLine"),p[n].checklistItemList[e].checklistItemIsCompleted=!1,window.localStorage.clear(),window.localStorage.setItem(`item${n}`,JSON.stringify(p[n])),d(j),t())}));let o=document.createElement("button");o.classList.add("checklistDeleteButton"),o.innerHTML="Delete Checklist Item",o.id=e,c.appendChild(o),o.addEventListener("click",(()=>{p[n].checklistItemList.splice(o.id,1),d(I),L()}))}}j.classList.add("checklistContainer"),j.id=`checklistContainer${n}`,1==p[n].completed?(j.style.display="none",u.style.display="none"):(j.style.display="block",u.style.display="block"),c.appendChild(u),c.appendChild(j),t();const C=document.createElement("div");function l(){r=document.createElement("button"),r.classList.add("completedButton"),r.innerHTML="Mark Project As Complete",C.appendChild(r),r.addEventListener("click",(()=>{d(C),p[n].completed=!0,i.innerHTML="COMPLETED!",j.style.display="none",u.style.display="none",window.localStorage.clear(),window.localStorage.setItem(`item${n}`,JSON.stringify(p[n])),a(),m()}))}function a(){r=document.createElement("button"),r.classList.add("completedButton"),r.innerHTML="Mark as Incomplete",C.appendChild(r),r.addEventListener("click",(()=>{d(C),p[n].completed=!1,r.innerHTML="Mark Project As Complete",e(n),i.innerHTML=`${s}`,j.style.display="block",u.style.display="block",window.localStorage.clear(),window.localStorage.setItem(`item${n}`,JSON.stringify(p[n])),l(),m(),E()}))}function m(){let e=document.createElement("button");e.classList.add("deleteButton"),e.innerHTML="Delete Project",e.id=n,C.appendChild(e),e.addEventListener("click",(()=>{p.splice(e.id,1),d(I),L()}))}function E(){let e=document.createElement("button");e.classList.add("editProjectButton"),e.innerHTML="Edit Project",e.id=n,C.appendChild(e),e.addEventListener("click",(()=>{d(I),h(n)}))}C.classList.add("dropDownButton"),c.appendChild(C),0==p[n].completed?l():a(),m(),E()}0==p.length&&u()}const E=document.querySelector("#content"),j=document.createElement("div");j.classList.add("titleCard"),E.appendChild(j);const C=document.createElement("h1");C.innerHTML="< TODO LIST />",C.classList.add("titleHeader"),j.appendChild(C);for(let e=0;e<m.length;e++){let t=a(m[e].projectName,m[e].projectNotes,m[e].projectPriority,m[e].completed,m[e].dueDate,m[e].checklistItemList);p.push(t)}const I=document.createElement("div");I.classList.add("projectsContainer"),E.appendChild(I);const y=document.createElement("button");y.classList.add("addProjectButton"),y.innerHTML="+ New Project",j.appendChild(y),y.addEventListener("click",(function(){d(I),u()})),p.sort(((e,t)=>e.projectPriority>t.projectPriority?1:t.projectPriority>e.projectPriority?-1:0)),L()})();