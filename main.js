(()=>{"use strict";var e=6e4;function t(t){return t.getTime()%e}function n(n){var c=new Date(n.getTime()),i=Math.ceil(c.getTimezoneOffset());c.setSeconds(0,0);var l=i>0?(e+t(c))%e:t(c);return i*e+l}function c(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function i(e){c(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function l(e){c(1,arguments);var t=i(e);return t.setHours(0,0,0,0),t}var o=864e5;function d(e){for(;e.firstChild;)e.removeChild(e.firstChild)}const a=(e="Title",t="Notes...",n=3,c=!1,i="",l=[])=>{let o=l;return{projectName:e,projectNotes:t,projectPriority:n,checklistItemList:o,addToChecklist:(e,t,n,c)=>{const i=((e,t,n,c=!1)=>({checklistItemName:e,checklistItemNotes:t,checklistItemPriority:n,checklistItemIsCompleted:c}))(e,t,n,c);o.push(i)},completed:c,dueDate:i}};let s,r="",m=[],p=[];for(let e=0;e<localStorage.length;e++)p.push(JSON.parse(window.localStorage.getItem(`item${e}`)));function u(){const e=document.createElement("div");e.classList.add("modalWindow"),j.appendChild(e);const t=document.createElement("div");t.classList.add("projectForm"),e.appendChild(t);const n=document.createElement("label");n.classList.add("projectNameInputTitle"),n.innerHTML="Project Name",n.htmlFor="projectName",t.appendChild(n);const c=document.createElement("input");c.classList.add("projectNameInput"),c.type="text",c.id="projectName",c.name="projectName",t.appendChild(c);let i=document.createElement("br");t.appendChild(i);let l=document.createElement("br");t.appendChild(l);const o=document.createElement("label");o.classList.add("projectPriorityInputTitle"),o.innerHTML="Project Priority",t.appendChild(o);const s=document.createElement("select");s.classList.add("projectPriorityInput"),s.id="projectPriorityInput",t.appendChild(s);let r=document.createElement("br");t.appendChild(r);let p=document.createElement("br");t.appendChild(p);const u=document.createElement("option");u.value=1,u.innerHTML="High",s.append(u);const L=document.createElement("option");L.value=2,L.innerHTML="Medium",s.append(L);const I=document.createElement("option");I.value=3,I.innerHTML="Low",s.append(I);const C=document.createElement("label");C.classList.add("projectNotesInputTitle"),C.innerHTML="Project Description ",C.htmlFor="projectNotes",t.appendChild(C);const k=document.createElement("input");k.classList.add("projectNotesInput"),k.type="text",k.id="projectNotes",k.name="projectNotes",t.appendChild(k);let E=document.createElement("br");t.appendChild(E);let y=document.createElement("br");t.appendChild(y);const g=document.createElement("label");g.classList.add("projectDateTitle"),g.innerHTML="Due Date",g.htmlFor="projectNotes",t.appendChild(g);const T=document.createElement("input");T.classList.add("projectNotesInput"),T.type="date",T.id="projectDate",T.name="projectDate",t.appendChild(T);let N=document.createElement("br");t.appendChild(N);let f=document.createElement("br");t.appendChild(f);const w=document.createElement("button");if(w.innerHTML="Save",w.classList.add("saveButton"),t.appendChild(w),w.addEventListener("click",(()=>{let e=document.getElementById("projectName").value,t=document.getElementById("projectPriorityInput").value,n=document.getElementById("projectNotes").value,c=document.getElementById("projectDate").value,i=a(e,n,t,!1,c);m.push(i),d(j),h()})),0==m.length);else{const e=document.createElement("button");e.innerHTML="Cancel",e.classList.add("cancelButton"),t.appendChild(e),e.addEventListener("click",(()=>{d(j),h()}))}}function h(){function e(e){if(0==m[e].completed)if(""==m[e].dueDate)r="Incomplete";else{let t=function(e,t){c(2,arguments);var i=l(e),d=l(t),a=i.getTime()-n(i),s=d.getTime()-n(d);return Math.round((a-s)/o)}(new Date(m[e].dueDate),new Date);t+=1,r=1==t?"Due Tomorrow":0==t?"Due Today":t<0?"Past Due!":`Due in ${t} Days`}else r="COMPLETED!"}m.sort(((e,t)=>e.projectPriority>t.projectPriority?1:t.projectPriority>e.projectPriority?-1:0)),window.localStorage.clear();for(let n=0;n<m.length;n++){window.localStorage.setItem(`item${n}`,JSON.stringify(m[n]));let c=document.createElement("div");c.classList.add("project"),j.appendChild(c);let l=document.createElement("p");l.classList.add("projectTitle"),l.innerHTML=`${m[n].projectName}`,1==m[n].projectPriority?l.classList.add("projectTitleHigh"):2==m[n].projectPriority?l.classList.add("projectTitleMed"):3==m[n].projectPriority&&l.classList.add("projectTitleLow"),c.appendChild(l),e(n);let o=document.createElement("p");o.classList.add("projectPriority"),o.innerHTML=`${r}`,c.appendChild(o);let u=document.createElement("p");u.classList.add("projectNotes"),u.innerHTML=`${m[n].projectNotes}`;let L=document.createElement("div");function t(){m[n].checklistItemList.sort(((e,t)=>e.checklistItemIsCompleted>t.checklistItemIsCompleted?1:t.checklistItemIsCompleted>e.checklistItemIsCompleted?-1:0));let e=document.createElement("button");e.classList.add("addChecklistItemButton"),e.innerHTML="+",e.addEventListener("click",(()=>{let e=document.getElementById(`addChecklistItem${n}`).value;""==e||(m[n].addToChecklist(e,"",3,!1),d(j),h())})),L.appendChild(e);let c=document.createElement("input");c.classList.add("addChecklistItem"),c.type="text",c.id=`addChecklistItem${n}`,L.appendChild(c);let i=document.createElement("br");L.appendChild(i);for(let e=0;e<m[n].checklistItemList.length;e++){let c=document.createElement("div");c.classList.add("checklistItemContainer"),L.appendChild(c);let i=document.createElement("li");i.classList.add("checklistItemName"),i.id=`${m[n].checklistItemList[e].checklistItemName}`,i.innerHTML=`${m[n].checklistItemList[e].checklistItemName}  `,0==m[n].checklistItemList[e].checklistItemIsCompleted?i.classList.remove("checkListItemNameLine"):1==m[n].checklistItemList[e].checklistItemIsCompleted&&i.classList.add("checkListItemNameLine"),c.appendChild(i),i.addEventListener("click",(()=>{0==m[n].checklistItemList[e].checklistItemIsCompleted?(i.classList.add("checkListItemNameLine"),m[n].checklistItemList[e].checklistItemIsCompleted=!0,window.localStorage.clear(),window.localStorage.setItem(`item${n}`,JSON.stringify(m[n])),d(L),t()):1==m[n].checklistItemList[e].checklistItemIsCompleted&&(i.classList.remove("checkListItemNameLine"),m[n].checklistItemList[e].checklistItemIsCompleted=!1,window.localStorage.clear(),window.localStorage.setItem(`item${n}`,JSON.stringify(m[n])),d(L),t())}));let l=document.createElement("button");l.classList.add("checklistDeleteButton"),l.innerHTML="Delete Checklist Item",l.id=e,c.appendChild(l),l.addEventListener("click",(()=>{m[n].checklistItemList.splice(l.id,1),d(j),h()}))}}L.classList.add("checklistContainer"),L.id=`checklistContainer${n}`,1==m[n].completed?(L.style.display="none",u.style.display="none"):(L.style.display="block",u.style.display="block"),c.appendChild(u),c.appendChild(L),t();const I=document.createElement("div");function i(){s=document.createElement("button"),s.classList.add("completedButton"),s.innerHTML="Mark Project As Complete",I.appendChild(s),s.addEventListener("click",(()=>{d(I),m[n].completed=!0,o.innerHTML="COMPLETED!",L.style.display="none",u.style.display="none",window.localStorage.clear(),window.localStorage.setItem(`item${n}`,JSON.stringify(m[n])),a(),p()}))}function a(){s=document.createElement("button"),s.classList.add("completedButton"),s.innerHTML="Mark as Incomplete",I.appendChild(s),s.addEventListener("click",(()=>{d(I),m[n].completed=!1,s.innerHTML="Mark Project As Complete",e(n),o.innerHTML=`${r}`,L.style.display="block",u.style.display="block",window.localStorage.clear(),window.localStorage.setItem(`item${n}`,JSON.stringify(m[n])),i(),p()}))}function p(){let e=document.createElement("button");e.classList.add("deleteButton"),e.innerHTML="Delete Project",e.id=n,I.appendChild(e),e.addEventListener("click",(()=>{m.splice(e.id,1),d(j),h()}))}I.classList.add("dropDownButton"),c.appendChild(I),0==m[n].completed?i():a(),p()}0==m.length&&u()}const L=document.querySelector("#content"),I=document.createElement("div");I.classList.add("titleCard"),L.appendChild(I);const C=document.createElement("h1");C.innerHTML="< TODO LIST />",C.classList.add("titleHeader"),I.appendChild(C);for(let e=0;e<p.length;e++){let t=a(p[e].projectName,p[e].projectNotes,p[e].projectPriority,p[e].completed,p[e].dueDate,p[e].checklistItemList);m.push(t)}const j=document.createElement("div");j.classList.add("projectsContainer"),L.appendChild(j);const k=document.createElement("button");k.classList.add("addProjectButton"),k.innerHTML="+ New Project",I.appendChild(k),k.addEventListener("click",(function(){d(j),u()})),m.sort(((e,t)=>e.projectPriority>t.projectPriority?1:t.projectPriority>e.projectPriority?-1:0)),h()})();