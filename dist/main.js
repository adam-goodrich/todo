(()=>{"use strict";var e=6e4;function t(t){return t.getTime()%e}function c(c){var n=new Date(c.getTime()),l=Math.ceil(n.getTimezoneOffset());n.setSeconds(0,0);var o=l>0?(e+t(n))%e:t(n);return l*e+o}function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function l(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function o(e){n(1,arguments);var t=l(e);return t.setHours(0,0,0,0),t}var i=864e5;const d=document.querySelector("#content"),s=document.createElement("div");s.classList.add("titleCard"),d.appendChild(s);const a=document.createElement("h1");let r;a.innerHTML="< TODO LIST />",a.classList.add("titleHeader"),s.appendChild(a);let m="",p=[],u=[];for(let e=0;e<localStorage.length;e++)u.push(JSON.parse(window.localStorage.getItem(`item${e}`)));const h=(e="Title",t="Notes...",c=3,n=!1,l="",o=[])=>{let i=o;return{projectName:e,projectNotes:t,projectPriority:c,checklistItemList:i,addToChecklist:(e,t,c,n)=>{const l=((e,t,c,n=!1)=>({checklistItemName:e,checklistItemNotes:t,checklistItemPriority:c,checklistItemIsCompleted:n}))(e,t,c,n);i.push(l)},completed:n,dueDate:l}};for(let e=0;e<u.length;e++){let t=h(u[e].projectName,u[e].projectNotes,u[e].projectPriority,u[e].completed,u[e].dueDate,u[e].checklistItemList);p.push(t)}function L(){const e=document.createElement("div");e.classList.add("modalWindow"),I.appendChild(e);const t=document.createElement("div");t.classList.add("projectForm"),e.appendChild(t);const c=document.createElement("label");c.classList.add("projectNameInputTitle"),c.innerHTML="Project Name",c.htmlFor="projectName",t.appendChild(c);const n=document.createElement("input");n.classList.add("projectNameInput"),n.type="text",n.id="projectName",n.name="projectName",t.appendChild(n);let l=document.createElement("br");t.appendChild(l);let o=document.createElement("br");t.appendChild(o);const i=document.createElement("label");i.classList.add("projectPriorityInputTitle"),i.innerHTML="Project Priority",t.appendChild(i);const d=document.createElement("select");d.classList.add("projectPriorityInput"),d.id="projectPriorityInput",t.appendChild(d);let s=document.createElement("br");t.appendChild(s);let a=document.createElement("br");t.appendChild(a);const r=document.createElement("option");r.value=1,r.innerHTML="High",d.append(r);const m=document.createElement("option");m.value=2,m.innerHTML="Medium",d.append(m);const u=document.createElement("option");u.value=3,u.innerHTML="Low",d.append(u);const L=document.createElement("label");L.classList.add("projectNotesInputTitle"),L.innerHTML="Project Description ",L.htmlFor="projectNotes",t.appendChild(L);const C=document.createElement("input");C.classList.add("projectNotesInput"),C.type="text",C.id="projectNotes",C.name="projectNotes",t.appendChild(C);let j=document.createElement("br");t.appendChild(j);let y=document.createElement("br");t.appendChild(y);const g=document.createElement("label");g.classList.add("projectDateTitle"),g.innerHTML="Due Date",g.htmlFor="projectNotes",t.appendChild(g);const T=document.createElement("input");T.classList.add("projectNotesInput"),T.type="date",T.id="projectDate",T.name="projectDate",t.appendChild(T);let N=document.createElement("br");t.appendChild(N);let f=document.createElement("br");t.appendChild(f);const w=document.createElement("button");if(w.innerHTML="Save",w.classList.add("saveButton"),t.appendChild(w),w.addEventListener("click",(()=>{let e=document.getElementById("projectName").value,t=document.getElementById("projectPriorityInput").value,c=document.getElementById("projectNotes").value,n=document.getElementById("projectDate").value,l=h(e,c,t,!1,n);console.log(l),p.push(l),k(I),E()})),0==p.length);else{const e=document.createElement("button");e.innerHTML="Cancel",e.classList.add("cancelButton"),t.appendChild(e),e.addEventListener("click",(()=>{k(I),E()}))}}const I=document.createElement("div");I.classList.add("projectsContainer"),d.appendChild(I);const C=document.createElement("button");function k(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function j(e){if(0==p[e].completed)if(""==p[e].dueDate)m="Incomplete";else{let t=function(e,t){n(2,arguments);var l=o(e),d=o(t),s=l.getTime()-c(l),a=d.getTime()-c(d);return Math.round((s-a)/i)}(new Date(p[e].dueDate),new Date);t+=1,m=1==t?"Due Tomorrow":0==t?"Due Today":t<0?"Past Due!":`Due in ${t} Days`}else m="COMPLETED!"}function E(){p.sort(((e,t)=>e.projectPriority>t.projectPriority?1:t.projectPriority>e.projectPriority?-1:0)),window.localStorage.clear();for(let l=0;l<p.length;l++){window.localStorage.setItem(`item${l}`,JSON.stringify(p[l]));let o=document.createElement("div");o.classList.add("project"),I.appendChild(o);let i=document.createElement("p");i.classList.add("projectTitle"),i.innerHTML=`${p[l].projectName}`,1==p[l].projectPriority?i.classList.add("projectTitleHigh"):2==p[l].projectPriority?i.classList.add("projectTitleMed"):3==p[l].projectPriority&&i.classList.add("projectTitleLow"),o.appendChild(i),j(l);let d=document.createElement("p");d.classList.add("projectPriority"),d.innerHTML=`${m}`,o.appendChild(d);let s=document.createElement("p");s.classList.add("projectNotes"),s.innerHTML=`${p[l].projectNotes}`;let a=document.createElement("div");function e(){p[l].checklistItemList.sort(((e,t)=>e.checklistItemIsCompleted>t.checklistItemIsCompleted?1:t.checklistItemIsCompleted>e.checklistItemIsCompleted?-1:0));let t=document.createElement("button");t.classList.add("addChecklistItemButton"),t.innerHTML="+",t.addEventListener("click",(()=>{let e=document.getElementById(`addChecklistItem${l}`).value;""==e||(p[l].addToChecklist(e,"Due on the 12th",3,!1),k(I),E())})),a.appendChild(t);let c=document.createElement("input");c.classList.add("addChecklistItem"),c.type="text",c.id=`addChecklistItem${l}`,a.appendChild(c);let n=document.createElement("br");a.appendChild(n);for(let t=0;t<p[l].checklistItemList.length;t++){let c=document.createElement("div");c.classList.add("checklistItemContainer"),a.appendChild(c);let n=document.createElement("li");n.classList.add("checklistItemName"),n.id=`${p[l].checklistItemList[t].checklistItemName}`,n.innerHTML=`${p[l].checklistItemList[t].checklistItemName}  `,0==p[l].checklistItemList[t].checklistItemIsCompleted?(n.classList.remove("checkListItemNameLine"),console.log(p[l].checklistItemList[t].checklistItemIsCompleted)):1==p[l].checklistItemList[t].checklistItemIsCompleted&&(n.classList.add("checkListItemNameLine"),console.log(p[l].checklistItemList[t].checklistItemIsCompleted)),c.appendChild(n),n.addEventListener("click",(()=>{0==p[l].checklistItemList[t].checklistItemIsCompleted?(n.classList.add("checkListItemNameLine"),p[l].checklistItemList[t].checklistItemIsCompleted=!0,window.localStorage.clear(),window.localStorage.setItem(`item${l}`,JSON.stringify(p[l])),k(a),e()):1==p[l].checklistItemList[t].checklistItemIsCompleted&&(n.classList.remove("checkListItemNameLine"),p[l].checklistItemList[t].checklistItemIsCompleted=!1,window.localStorage.clear(),window.localStorage.setItem(`item${l}`,JSON.stringify(p[l])),k(a),e())}));let o=document.createElement("button");o.classList.add("checklistDeleteButton"),o.innerHTML="Delete Checklist Item",o.id=t,c.appendChild(o),o.addEventListener("click",(()=>{console.log(void 0),p[l].checklistItemList.splice(o.id,1),k(I),E()}))}}a.classList.add("checklistContainer"),a.id=`checklistContainer${l}`,1==p[l].completed?(console.log("here"),console.log(p),a.style.display="none",s.style.display="none"):(a.style.display="block",s.style.display="block"),o.appendChild(s),o.appendChild(a),e();const u=document.createElement("div");function t(){r=document.createElement("button"),r.classList.add("completedButton"),r.innerHTML="Mark Project As Complete",u.appendChild(r),r.addEventListener("click",(()=>{k(u),p[l].completed=!0,d.innerHTML="COMPLETED!",a.style.display="none",s.style.display="none",window.localStorage.clear(),window.localStorage.setItem(`item${l}`,JSON.stringify(p[l])),c(),n(),console.log(p)}))}function c(){r=document.createElement("button"),r.classList.add("completedButton"),r.innerHTML="Mark as Incomplete",u.appendChild(r),r.addEventListener("click",(()=>{k(u),p[l].completed=!1,r.innerHTML="Mark Project As Complete",j(l),d.innerHTML=`${m}`,a.style.display="block",s.style.display="block",console.log(p),window.localStorage.clear(),window.localStorage.setItem(`item${l}`,JSON.stringify(p[l])),t(),n()}))}function n(){let e=document.createElement("button");e.classList.add("deleteButton"),e.innerHTML="Delete Project",e.id=l,u.appendChild(e),e.addEventListener("click",(()=>{console.log(e.id),p.splice(e.id,1),k(I),E(),console.log(p)}))}u.classList.add("dropDownButton"),o.appendChild(u),0==p[l].completed?t():c(),n()}0==p.length&&L()}C.classList.add("addProjectButton"),C.innerHTML="+ New Project",s.appendChild(C),C.addEventListener("click",(function(){k(I),L()})),p.sort(((e,t)=>e.projectPriority>t.projectPriority?1:t.projectPriority>e.projectPriority?-1:0)),E()})();