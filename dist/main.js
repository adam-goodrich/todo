(()=>{"use strict";var e=6e4;function t(t){return t.getTime()%e}function c(c){var n=new Date(c.getTime()),l=Math.ceil(n.getTimezoneOffset());n.setSeconds(0,0);var o=l>0?(e+t(n))%e:t(n);return l*e+o}function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function l(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function o(e){n(1,arguments);var t=l(e);return t.setHours(0,0,0,0),t}var i=864e5;function d(e,t){n(2,arguments);var l=o(e),d=o(t),s=l.getTime()-c(l),a=d.getTime()-c(d);return Math.round((s-a)/i)}const s=document.querySelector("#content"),a=document.createElement("div");a.classList.add("titleCard"),s.appendChild(a);const r=document.createElement("h1");let m;r.innerHTML="< TODO LIST />",r.classList.add("titleHeader"),a.appendChild(r);let p="",u=[],h=[];for(let e=0;e<localStorage.length;e++)h.push(JSON.parse(window.localStorage.getItem(`item${e}`)));const L=(e="Title",t="Notes...",c=3,n=!1,l="",o=[])=>{let i=o;return{projectName:e,projectNotes:t,projectPriority:c,checklistItemList:i,addToChecklist:(e,t,c,n)=>{const l=((e,t,c,n=!1)=>({checklistItemName:e,checklistItemNotes:t,checklistItemPriority:c,checklistItemIsCompleted:n}))(e,t,c,n);i.push(l)},completed:n,dueDate:l}};for(let e=0;e<h.length;e++){let t=L(h[e].projectName,h[e].projectNotes,h[e].projectPriority,h[e].completed,h[e].dueDate,h[e].checklistItemList);u.push(t)}function I(){const e=document.createElement("div");e.classList.add("modalWindow"),C.appendChild(e);const t=document.createElement("div");t.classList.add("projectForm"),e.appendChild(t);const c=document.createElement("label");c.classList.add("projectNameInputTitle"),c.innerHTML="Project Name",c.htmlFor="projectName",t.appendChild(c);const n=document.createElement("input");n.classList.add("projectNameInput"),n.type="text",n.id="projectName",n.name="projectName",t.appendChild(n);let l=document.createElement("br");t.appendChild(l);let o=document.createElement("br");t.appendChild(o);const i=document.createElement("label");i.classList.add("projectPriorityInputTitle"),i.innerHTML="Project Priority",t.appendChild(i);const d=document.createElement("select");d.classList.add("projectPriorityInput"),d.id="projectPriorityInput",t.appendChild(d);let s=document.createElement("br");t.appendChild(s);let a=document.createElement("br");t.appendChild(a);const r=document.createElement("option");r.value=1,r.innerHTML="High",d.append(r);const m=document.createElement("option");m.value=2,m.innerHTML="Medium",d.append(m);const p=document.createElement("option");p.value=3,p.innerHTML="Low",d.append(p);const h=document.createElement("label");h.classList.add("projectNotesInputTitle"),h.innerHTML="Project Description ",h.htmlFor="projectNotes",t.appendChild(h);const I=document.createElement("input");I.classList.add("projectNotesInput"),I.type="text",I.id="projectNotes",I.name="projectNotes",t.appendChild(I);let k=document.createElement("br");t.appendChild(k);let y=document.createElement("br");t.appendChild(y);const g=document.createElement("label");g.classList.add("projectDateTitle"),g.innerHTML="Due Date",g.htmlFor="projectNotes",t.appendChild(g);const T=document.createElement("input");T.classList.add("projectNotesInput"),T.type="date",T.id="projectDate",T.name="projectDate",t.appendChild(T);let w=document.createElement("br");t.appendChild(w);let f=document.createElement("br");t.appendChild(f);const D=document.createElement("button");if(D.innerHTML="Save",D.classList.add("saveButton"),t.appendChild(D),D.addEventListener("click",(()=>{let e=document.getElementById("projectName").value,t=document.getElementById("projectPriorityInput").value,c=document.getElementById("projectNotes").value,n=document.getElementById("projectDate").value,l=L(e,c,t,!1,n);console.log(l),u.push(l),j(C),E()})),0==u.length);else{const e=document.createElement("button");e.innerHTML="Cancel",e.classList.add("cancelButton"),t.appendChild(e),e.addEventListener("click",(()=>{j(C),E()}))}}const C=document.createElement("div");C.classList.add("projectsContainer"),s.appendChild(C);const k=document.createElement("button");function j(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function E(){u.sort(((e,t)=>e.projectPriority>t.projectPriority?1:t.projectPriority>e.projectPriority?-1:0)),window.localStorage.clear();for(let l=0;l<u.length;l++){window.localStorage.setItem(`item${l}`,JSON.stringify(u[l]));let o=document.createElement("div");o.classList.add("project"),C.appendChild(o);let i=document.createElement("p");if(i.classList.add("projectTitle"),i.innerHTML=`${u[l].projectName}`,1==u[l].projectPriority?i.classList.add("projectTitleHigh"):2==u[l].projectPriority?i.classList.add("projectTitleMed"):3==u[l].projectPriority&&i.classList.add("projectTitleLow"),o.appendChild(i),0==u[l].completed)if(""==u[l].dueDate)p="Incomplete";else{let e=d(new Date(u[l].dueDate),new Date);e+=1,p=1==e?"Due Tomorrow":0==e?"Due Today":e<0?"Past Due!":`Due in ${e} Days`}else p="COMPLETED!";let s=document.createElement("p");s.classList.add("projectPriority"),s.innerHTML=`${p}`,o.appendChild(s);let a=document.createElement("p");a.classList.add("projectNotes"),a.innerHTML=`${u[l].projectNotes}`;let r=document.createElement("div");function e(){u[l].checklistItemList.sort(((e,t)=>e.checklistItemIsCompleted>t.checklistItemIsCompleted?1:t.checklistItemIsCompleted>e.checklistItemIsCompleted?-1:0));let t=document.createElement("button");t.classList.add("addChecklistItemButton"),t.innerHTML="+",t.addEventListener("click",(()=>{let e=document.getElementById(`addChecklistItem${l}`).value;""==e||(u[l].addToChecklist(e,"Due on the 12th",3,!1),j(C),E())})),r.appendChild(t);let c=document.createElement("input");c.classList.add("addChecklistItem"),c.type="text",c.id=`addChecklistItem${l}`,r.appendChild(c);let n=document.createElement("br");r.appendChild(n);for(let t=0;t<u[l].checklistItemList.length;t++){let c=document.createElement("div");c.classList.add("checklistItemContainer"),r.appendChild(c);let n=document.createElement("li");n.classList.add("checklistItemName"),n.id=`${u[l].checklistItemList[t].checklistItemName}`,n.innerHTML=`${u[l].checklistItemList[t].checklistItemName}  `,0==u[l].checklistItemList[t].checklistItemIsCompleted?(n.classList.remove("checkListItemNameLine"),console.log(u[l].checklistItemList[t].checklistItemIsCompleted)):1==u[l].checklistItemList[t].checklistItemIsCompleted&&(n.classList.add("checkListItemNameLine"),console.log(u[l].checklistItemList[t].checklistItemIsCompleted)),c.appendChild(n),n.addEventListener("click",(()=>{0==u[l].checklistItemList[t].checklistItemIsCompleted?(n.classList.add("checkListItemNameLine"),u[l].checklistItemList[t].checklistItemIsCompleted=!0,window.localStorage.clear(),window.localStorage.setItem(`item${l}`,JSON.stringify(u[l])),j(r),e()):1==u[l].checklistItemList[t].checklistItemIsCompleted&&(n.classList.remove("checkListItemNameLine"),u[l].checklistItemList[t].checklistItemIsCompleted=!1,window.localStorage.clear(),window.localStorage.setItem(`item${l}`,JSON.stringify(u[l])),j(r),e())}));let o=document.createElement("button");o.classList.add("checklistDeleteButton"),o.innerHTML="Delete Checklist Item",o.id=t,c.appendChild(o),o.addEventListener("click",(()=>{console.log(void 0),u[l].checklistItemList.splice(o.id,1),j(C),E()}))}}r.classList.add("checklistContainer"),r.id=`checklistContainer${l}`,1==u[l].completed?(console.log("here"),console.log(u),r.style.display="none",a.style.display="none"):(r.style.display="block",a.style.display="block"),o.appendChild(a),o.appendChild(r),e();const h=document.createElement("div");function t(){m=document.createElement("button"),m.classList.add("completedButton"),m.innerHTML="Mark Project As Complete",h.appendChild(m),m.addEventListener("click",(()=>{j(h),u[l].completed=!0,s.innerHTML="COMPLETED!",r.style.display="none",a.style.display="none",window.localStorage.clear(),window.localStorage.setItem(`item${l}`,JSON.stringify(u[l])),c(),n(),console.log(u)}))}function c(){m=document.createElement("button"),m.classList.add("completedButton"),m.innerHTML="Mark as Incomplete",h.appendChild(m),m.addEventListener("click",(()=>{if(j(h),u[l].completed=!1,m.innerHTML="Mark Project As Complete",0==u[l].completed)if(""==u[l].dueDate)p="Incomplete";else{let e=d(new Date(u[l].dueDate),new Date);e+=1,p=1==e?"Due Tomorrow":0==e?"Due Today":e<0?"Past Due!":`Due in ${e} Days`}else p="COMPLETED!";s.innerHTML=`${p}`,r.style.display="block",a.style.display="block",console.log(u),window.localStorage.clear(),window.localStorage.setItem(`item${l}`,JSON.stringify(u[l])),t(),n()}))}function n(){let e=document.createElement("button");e.classList.add("deleteButton"),e.innerHTML="Delete Project",e.id=l,h.appendChild(e),e.addEventListener("click",(()=>{console.log(e.id),u.splice(e.id,1),j(C),E(),console.log(u)}))}h.classList.add("dropDownButton"),o.appendChild(h),0==u[l].completed?t():c(),n()}0==u.length&&I()}k.classList.add("addProjectButton"),k.innerHTML="+ New Project",a.appendChild(k),k.addEventListener("click",(function(){j(C),I()})),u.sort(((e,t)=>e.projectPriority>t.projectPriority?1:t.projectPriority>e.projectPriority?-1:0)),E()})();